# Dolphia Live App

A Progressive Web App (PWA) for tracking live football matches with real-time updates and push notifications.

## Features

- Real-time live match tracking
- Match event updates (goals, cards, substitutions, etc.)
- Push notifications for goals and match events
- Offline support with service worker
- Installable as a native app on mobile and desktop
- Auto-refresh every 30 seconds for matches, 15 seconds for events

## Tech Stack

- **Vue 3** - Progressive JavaScript framework
- **TypeScript** - Type-safe development
- **Vite** - Fast build tool
- **Pinia** - State management
- **Vue Router** - Client-side routing
- **Tailwind CSS 4** - Utility-first CSS framework
- **Shadcn/ui** - Re-usable component library (reka-ui/radix-vue based)
- **Vite PWA Plugin** - Progressive Web App support
- **date-fns** - Date formatting

## Project Structure

```
src/
├── components/
│   ├── layouts/        # Layout components (Header, Nav, BackButton)
│   └── ui/             # Shadcn UI components
├── composables/        # Vue composables (usePushNotifications)
├── stores/
│   └── pages/          # Pinia stores (live-matches)
├── utils/              # Utility functions (api, telegram)
├── views/
│   ├── live/           # Live matches list view
│   ├── live/:id/       # Match detail view
│   └── 404/            # Not found page
└── router/             # Vue Router configuration
```

## Getting Started

### Prerequisites

- Node.js 18+
- pnpm (recommended) or npm

### Installation

```bash
# Install dependencies
pnpm install
```

### Development

```bash
# Start development server (staging)
pnpm dev

# Start development server (production)
pnpm dev:prd
```

The app will be available at `http://localhost:3000`

### Build

```bash
# Build for production
pnpm build
```

### Preview

```bash
# Preview production build
pnpm preview
```

## Environment Variables

Create `.env.stg` and `.env.prd` files:

```env
VITE_API_BASE_URL=https://api.playdolphia.com
VITE_VALID_DOMAIN=localhost
PORT=3000
```

## PWA Features

- **Manifest**: Configured for installability
- **Service Worker**: Auto-generated by vite-plugin-pwa
- **Offline Support**: API responses cached with NetworkFirst strategy
- **Push Notifications**: VAPID-based push notifications for live events
- **Auto-update**: Service worker updates automatically

## API Integration

The app uses the Dolphia API for:
- `/Live` - Get live matches
- `/Leagues/{leagueId}/Matches/{matchId}/Events` - Get match events
- `/User/SetPushSubscription` - Register push notification subscription

## Push Notifications

Push notifications are automatically requested on app load. Users will receive notifications for:
- Goals scored in live matches
- Other match events (configurable)

VAPID public key is configured in `src/composables/usePushNotifications.ts`

## License

Private
